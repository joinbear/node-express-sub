"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,n,e){"use strict";function r(t,n){return V(new(V(function(){},{prototype:t})),n)}function a(t){return N(arguments,function(n){n!==t&&N(n,function(n,e){t.hasOwnProperty(e)||(t[e]=n)})}),t}function i(t,n){var e=[];for(var r in t.path){if(t.path[r]!==n.path[r])break;e.push(t.path[r])}return e}function o(t){if(Object.keys)return Object.keys(t);var n=[];return N(t,function(t,e){n.push(e)}),n}function u(t,n){if(Array.prototype.indexOf)return t.indexOf(n,Number(arguments[2])||0);var e=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=e);e>r;r++)if(r in t&&t[r]===n)return r;return-1}function s(t,n,e,r){var a,s=i(e,r),l={},c=[];for(var f in s)if(s[f].params&&(a=o(s[f].params),a.length))for(var p in a)u(c,a[p])>=0||(c.push(a[p]),l[a[p]]=t[a[p]]);return V({},l,n)}function l(t,n,e){if(!e){e=[];for(var r in t)e.push(r)}for(var a=0;a<e.length;a++){var i=e[a];if(t[i]!=n[i])return!1}return!0}function c(t,n){var e={};return N(t,function(t){e[t]=n[t]}),e}function f(t){var n={},e=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return N(e,function(e){e in t&&(n[e]=t[e])}),n}function p(t){var n={},e=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==u(e,r)&&(n[r]=t[r]);return n}function h(t,n){var e=R(t),r=e?[]:{};return N(t,function(t,a){n(t,a)&&(r[e?r.length:a]=t)}),r}function v(t,n){var e=R(t)?[]:{};return N(t,function(t,r){e[r]=n(t,r)}),e}function m(t,n){var r=1,i=2,s={},l=[],c=s,f=V(t.when(s),{$$promises:s,$$values:s});this.study=function(s){function h(t,e){if(g[e]!==i){if($.push(e),g[e]===r)throw $.splice(0,u($,e)),new Error("Cyclic dependency: "+$.join(" -> "));if(g[e]=r,M(t))d.push(e,[function(){return n.get(t)}],l);else{var a=n.annotate(t);N(a,function(t){t!==e&&s.hasOwnProperty(t)&&h(s[t],t)}),d.push(e,t,a)}$.pop(),g[e]=i}}function v(t){return F(t)&&t.then&&t.$$promises}if(!F(s))throw new Error("'invocables' must be an object");var m=o(s||{}),d=[],$=[],g={};return N(s,h),s=$=g=null,function(r,i,o){function u(){--w||(b||a(y,i.$$values),$.$$values=y,$.$$promises=$.$$promises||!0,delete $.$$inheritedValues,h.resolve(y))}function s(t){$.$$failure=t,h.reject(t)}function l(e,a,i){function l(t){f.reject(t),s(t)}function c(){if(!I($.$$failure))try{f.resolve(n.invoke(a,o,y)),f.promise.then(function(t){y[e]=t,u()},l)}catch(t){l(t)}}var f=t.defer(),p=0;N(i,function(t){g.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(p++,g[t].then(function(n){y[t]=n,--p||c()},l))}),p||c(),g[e]=f.promise}if(v(r)&&o===e&&(o=i,i=r,r=null),r){if(!F(r))throw new Error("'locals' must be an object")}else r=c;if(i){if(!v(i))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else i=f;var h=t.defer(),$=h.promise,g=$.$$promises={},y=V({},r),w=1+d.length/3,b=!1;if(I(i.$$failure))return s(i.$$failure),$;i.$$inheritedValues&&a(y,p(i.$$inheritedValues,m)),V(g,i.$$promises),i.$$values?(b=a(y,p(i.$$values,m)),$.$$inheritedValues=p(i.$$values,m),u()):(i.$$inheritedValues&&($.$$inheritedValues=p(i.$$inheritedValues,m)),i.then(u,s));for(var C=0,A=d.length;A>C;C+=3)r.hasOwnProperty(d[C])?u():l(d[C],d[C+1],d[C+2]);return $}},this.resolve=function(t,n,e,r){return this.study(t)(n,e,r)}}function d(t,n,e){this.fromConfig=function(t,n,e){return I(t.template)?this.fromString(t.template,n):I(t.templateUrl)?this.fromUrl(t.templateUrl,n):I(t.templateProvider)?this.fromProvider(t.templateProvider,n,e):null},this.fromString=function(t,n){return q(t)?t(n):t},this.fromUrl=function(e,r){return q(e)&&(e=e(r)),null==e?null:t.get(e,{cache:n,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,n,r){return e.invoke(t,null,r||{params:n})}}function $(t,n,a){function i(n,e,r,a){if(d.push(n),v[n])return v[n];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(m[n])throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'");return m[n]=new _.Param(n,e,r,a),m[n]}function o(t,n,e,r){var a=["",""],i=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!n)return i;switch(e){case!1:a=["(",")"+(r?"?":"")];break;case!0:a=["?(",")?"];break;default:a=["("+e+"|",")?"]}return i+a[0]+n+a[1]}function u(a,i){var o,u,s,l,c;return o=a[2]||a[3],c=n.params[o],s=t.substring(p,a.index),u=i?a[4]:a[4]||("*"==a[1]?".*":null),l=_.type(u||"string")||r(_.type("string"),{pattern:new RegExp(u,n.caseInsensitive?"i":e)}),{id:o,regexp:u,segment:s,type:l,cfg:c}}n=V({params:{}},F(n)?n:{});var s,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",p=0,h=this.segments=[],v=a?a.params:{},m=this.params=a?a.params.$$new():new _.ParamSet,d=[];this.source=t;for(var $,g,y;(s=l.exec(t))&&($=u(s,!1),!($.segment.indexOf("?")>=0));)g=i($.id,$.type,$.cfg,"path"),f+=o($.segment,g.type.pattern.source,g.squash,g.isOptional),h.push($.segment),p=l.lastIndex;y=t.substring(p);var w=y.indexOf("?");if(w>=0){var b=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=t.substring(0,p+w),b.length>0)for(p=0;s=c.exec(b);)$=u(s,!0),g=i($.id,$.type,$.cfg,"search"),p=l.lastIndex}else this.sourcePath=t,this.sourceSearch="";f+=o(y)+(n.strict===!1?"/?":"")+"$",h.push(y),this.regexp=new RegExp(f,n.caseInsensitive?"i":e),this.prefix=h[0],this.$$paramNames=d}function g(t){V(this,t)}function y(){function t(t){return null!=t?t.toString().replace(/\//g,"%2F"):t}function a(t){return null!=t?t.toString().replace(/%2F/g,"/"):t}function i(){return{strict:m,caseInsensitive:p}}function s(t){return q(t)||R(t)&&q(t[t.length-1])}function l(){for(;C.length;){var t=C.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");n.extend(w[t.name],f.invoke(t.def))}}function c(t){V(this,t||{})}_=this;var f,p=!1,m=!0,d=!1,w={},b=!0,C=[],A={string:{encode:t,decode:a,is:function(t){return null==t||!I(t)||"string"==typeof t},pattern:/[^/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return I(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):e},decode:function(t){if(this.is(t))return t;var n=this.capture.exec(t);return n?new Date(n[1],n[2]-1,n[3]):e},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,n){return this.is(t)&&this.is(n)&&t.toISOString()===n.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:n.toJson,decode:n.fromJson,is:n.isObject,equals:n.equals,pattern:/[^/]*/},any:{encode:n.identity,decode:n.identity,equals:n.equals,pattern:/.*/}};y.$$getDefaultValue=function(t){if(!s(t.value))return t.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(t.value)},this.caseInsensitive=function(t){return I(t)&&(p=t),p},this.strictMode=function(t){return I(t)&&(m=t),m},this.defaultSquashPolicy=function(t){if(!I(t))return d;if(t!==!0&&t!==!1&&!M(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return d=t,t},this.compile=function(t,n){return new $(t,V(i(),n))},this.isMatcher=function(t){if(!F(t))return!1;var n=!0;return N($.prototype,function(e,r){q(e)&&(n=n&&I(t[r])&&q(t[r]))}),n},this.type=function(t,n,e){if(!I(n))return w[t];if(w.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return w[t]=new g(V({name:t},n)),e&&(C.push({name:t,def:e}),b||l()),this},N(A,function(t,n){w[n]=new g(V({name:n},t))}),w=r(w,{}),this.$get=["$injector",function(t){return f=t,b=!1,l(),N(A,function(t,n){w[n]||(w[n]=new g(t))}),this}],this.Param=function(t,n,r,a){function i(t){var n=F(t)?o(t):[],e=-1===u(n,"value")&&-1===u(n,"type")&&-1===u(n,"squash")&&-1===u(n,"array");return e&&(t={value:t}),t.$$fn=s(t.value)?t.value:function(){return t.value},t}function l(n,e,r){if(n.type&&e)throw new Error("Param '"+t+"' has two type configurations.");return e?e:n.type?n.type instanceof g?n.type:new g(n.type):"config"===r?w.any:w.string}function c(){var n={array:"search"===a?"auto":!1},e=t.match(/\[\]$/)?{array:!0}:{};return V(n,e,r).array}function p(t,n){var e=t.squash;if(!n||e===!1)return!1;if(!I(e)||null==e)return d;if(e===!0||M(e))return e;throw new Error("Invalid squash policy: '"+e+"'. Valid policies: false, true, or arbitrary string")}function m(t,n,r,a){var i,o,s=[{from:"",to:r||n?e:""},{from:null,to:r||n?e:""}];return i=R(t.replace)?t.replace:[],M(a)&&i.push({from:a,to:e}),o=v(i,function(t){return t.from}),h(s,function(t){return-1===u(o,t.from)}).concat(i)}function $(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var t=f.invoke(r.$$fn);if(null!==t&&t!==e&&!C.type.is(t))throw new Error("Default value ("+t+") for parameter '"+C.id+"' is not an instance of Type ("+C.type.name+")");return t}function y(t){function n(t){return function(n){return n.from===t}}function e(t){var e=v(h(C.replace,n(t)),function(t){return t.to});return e.length?e[0]:t}return t=e(t),I(t)?C.type.$normalize(t):$()}function b(){return"{Param:"+t+" "+n+" squash: '"+S+"' optional: "+D+"}"}var C=this;r=i(r),n=l(r,n,a);var A=c();n=A?n.$asArray(A,"search"===a):n,"string"!==n.name||A||"path"!==a||r.value!==e||(r.value="");var D=r.value!==e,S=p(r,D),x=m(r,A,D,S);V(this,{id:t,type:n,location:a,array:A,squash:S,replace:x,isOptional:D,value:y,dynamic:e,config:r,toString:b})},c.prototype={$$new:function(){return r(this,V(new c,{$$parent:this}))},$$keys:function(){for(var t=[],n=[],e=this,r=o(c.prototype);e;)n.push(e),e=e.$$parent;return n.reverse(),N(n,function(n){N(o(n),function(n){-1===u(t,n)&&-1===u(r,n)&&t.push(n)})}),t},$$values:function(t){var n={},e=this;return N(e.$$keys(),function(r){n[r]=e[r].value(t&&t[r])}),n},$$equals:function(t,n){var e=!0,r=this;return N(r.$$keys(),function(a){var i=t&&t[a],o=n&&n[a];r[a].type.equals(i,o)||(e=!1)}),e},$$validates:function(t){var r,a,i,o,u,s=this.$$keys();for(r=0;r<s.length&&(a=this[s[r]],i=t[s[r]],i!==e&&null!==i||!a.isOptional);r++){if(o=a.type.$normalize(i),!a.type.is(o))return!1;if(u=a.type.encode(o),n.isString(u)&&!a.type.pattern.exec(u))return!1}return!0},$$parent:e},this.ParamSet=c}function w(t,r){function a(t){var n=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=n?n[1].replace(/\\(.)/g,"$1"):""}function i(t,n){return t.replace(/\$(\$|\d{1,2})/,function(t,e){return n["$"===e?0:Number(e)]})}function o(t,n,e){if(!e)return!1;var r=t.invoke(n,n,{$match:e});return I(r)?r:!0}function u(r,a,i,o){function u(t,n,e){return"/"===m?t:n?m.slice(0,-1)+t:e?m.slice(1)+t:t}function p(t){function n(t){var n=t(i,r);return n?(M(n)&&r.replace().url(n),!0):!1}if(!t||!t.defaultPrevented){v&&r.url()===v,v=e;var a,o=l.length;for(a=0;o>a;a++)if(n(l[a]))return;c&&n(c)}}function h(){return s=s||a.$on("$locationChangeSuccess",p)}var v,m=o.baseHref(),d=r.url();return f||h(),{sync:function(){p()},listen:function(){return h()},update:function(t){return t?void(d=r.url()):void(r.url()!==d&&(r.url(d),r.replace()))},push:function(t,n,a){var i=t.format(n||{});null!==i&&n&&n["#"]&&(i+="#"+n["#"]),r.url(i),v=a&&a.$$avoidResync?r.url():e,a&&a.replace&&r.replace()},href:function(e,a,i){if(!e.validates(a))return null;var o=t.html5Mode();n.isObject(o)&&(o=o.enabled);var s=e.format(a);if(i=i||{},o||null===s||(s="#"+t.hashPrefix()+s),null!==s&&a&&a["#"]&&(s+="#"+a["#"]),s=u(s,o,i.absolute),!i.absolute||!s)return s;var l=!o&&s?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,l,s].join("")}}}var s,l=[],c=null,f=!1;this.rule=function(t){if(!q(t))throw new Error("'rule' must be a function");return l.push(t),this},this.otherwise=function(t){if(M(t)){var n=t;t=function(){return n}}else if(!q(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,n){var e,u=M(n);if(M(t)&&(t=r.compile(t)),!u&&!q(n)&&!R(n))throw new Error("invalid 'handler' in when()");var s={matcher:function(t,n){return u&&(e=r.compile(n),n=["$match",function(t){return e.format(t)}]),V(function(e,r){return o(e,n,t.exec(r.path(),r.search()))},{prefix:M(t.prefix)?t.prefix:""})},regex:function(t,n){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(e=n,n=["$match",function(t){return i(e,t)}]),V(function(e,r){return o(e,n,t.exec(r.path()))},{prefix:a(t)})}},l={matcher:r.isMatcher(t),regex:t instanceof RegExp};for(var c in l)if(l[c])return this.rule(s[c](t,n));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===e&&(t=!0),f=t},this.$get=u,u.$inject=["$location","$rootScope","$injector","$browser"]}function b(t,a){function i(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function p(t,n){if(!t)return e;var r=M(t),a=r?t:t.name,o=i(a);if(o){if(!n)throw new Error("No reference point given for path '"+a+"'");n=p(n);for(var u=a.split("."),s=0,l=u.length,c=n;l>s;s++)if(""!==u[s]||0!==s){if("^"!==u[s])break;if(!c.parent)throw new Error("Path '"+a+"' not valid for state '"+n.name+"'");c=c.parent}else c=n;u=u.slice(s).join("."),a=c.name+(c.name&&u?".":"")+u}var f=S[a];return!f||!r&&(r||f!==t&&f.self!==t)?e:f}function h(t,n){x[t]||(x[t]=[]),x[t].push(n)}function m(t){for(var n=x[t]||[];n.length;)d(n.shift())}function d(n){n=r(n,{self:n,resolve:n.resolve||{},toString:function(){return this.name}});var e=n.name;if(!M(e)||e.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(e))throw new Error("State '"+e+"'' is already defined");var a=-1!==e.indexOf(".")?e.substring(0,e.lastIndexOf(".")):M(n.parent)?n.parent:F(n.parent)&&M(n.parent.name)?n.parent.name:"";if(a&&!S[a])return h(a,n.self);for(var i in P)q(P[i])&&(n[i]=P[i](n,P.$delegates[i]));return S[e]=n,!n[E]&&n.url&&t.when(n.url,["$match","$stateParams",function(t,e){D.$current.navigable==n&&l(t,e)||D.transitionTo(n,t,{inherit:!0,location:!1})}]),m(e),n}function $(t){return t.indexOf("*")>-1}function g(t){for(var n=t.split("."),e=D.$current.name.split("."),r=0,a=n.length;a>r;r++)"*"===n[r]&&(e[r]="*");return"**"===n[0]&&(e=e.slice(u(e,n[1])),e.unshift("**")),"**"===n[n.length-1]&&(e.splice(u(e,n[n.length-2])+1,Number.MAX_VALUE),e.push("**")),n.length!=e.length?!1:e.join("")===n.join("")}function y(t,n){return M(t)&&!I(n)?P[t]:q(n)&&M(t)?(P[t]&&!P.$delegates[t]&&(P.$delegates[t]=P[t]),P[t]=n,this):this}function w(t,n){return F(t)?n=t:n.name=t,d(n),this}function b(t,a,i,u,f,h,m,d,y){function w(n,e,r,i){var o=t.$broadcast("$stateNotFound",n,e,r);if(o.defaultPrevented)return m.update(),k;if(!o.retry)return null;if(i.$retry)return m.update(),j;var u=D.transition=a.when(o.retry);return u.then(function(){return u!==D.transition?x:(n.options.$retry=!0,D.transitionTo(n.to,n.toParams,n.options))},function(){return k}),m.update(),u}function b(t,e,r,o,s,l){function p(){var e=[];return N(t.views,function(r,a){var o=r.resolve&&r.resolve!==t.resolve?r.resolve:{};o.$template=[function(){return i.load(a,{view:r,locals:s.globals,params:h,notify:l.notify})||""}],e.push(f.resolve(o,s.globals,s.resolve,t).then(function(e){if(q(r.controllerProvider)||R(r.controllerProvider)){var i=n.extend({},o,s.globals);e.$$controller=u.invoke(r.controllerProvider,null,i)}else e.$$controller=r.controller;e.$$state=t,e.$$controllerAs=r.controllerAs,s[a]=e}))}),a.all(e).then(function(){return s.globals})}var h=r?e:c(t.params.$$keys(),e),v={$stateParams:h};s.resolve=f.resolve(t.resolve,v,s.resolve,t);var m=[s.resolve.then(function(t){s.globals=t})];return o&&m.push(o),a.all(m).then(p).then(function(t){return s})}var x=a.reject(new Error("transition superseded")),P=a.reject(new Error("transition prevented")),k=a.reject(new Error("transition aborted")),j=a.reject(new Error("transition failed"));return A.locals={resolve:null,globals:{$stateParams:{}}},D={params:{},current:A.self,$current:A,transition:null},D.reload=function(t){return D.transitionTo(D.current,h,{reload:t||!0,inherit:!1,notify:!0})},D.go=function(t,n,e){return D.transitionTo(t,n,V({inherit:!0,relative:D.$current},e))},D.transitionTo=function(n,e,i){e=e||{},i=V({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var o,l=D.$current,f=D.params,v=l.path,d=p(n,i.relative),$=e["#"];if(!I(d)){var g={to:n,toParams:e,options:i},y=w(g,l.self,f,i);if(y)return y;if(n=g.to,e=g.toParams,i=g.options,d=p(n,i.relative),!I(d)){if(!i.relative)throw new Error("No such state '"+n+"'");throw new Error("Could not resolve '"+n+"' from state '"+i.relative+"'")}}if(d[E])throw new Error("Cannot transition to abstract state '"+n+"'");if(i.inherit&&(e=s(h,e||{},D.$current,d)),!d.params.$$validates(e))return j;e=d.params.$$values(e),n=d;var S=n.path,k=0,O=S[k],T=A.locals,q=[];if(i.reload){if(M(i.reload)||F(i.reload)){if(F(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var R=i.reload===!0?v[0]:p(i.reload);if(i.reload&&!R)throw new Error("No such reload state '"+(M(i.reload)?i.reload:i.reload.name)+"'");for(;O&&O===v[k]&&O!==R;)T=q[k]=O.locals,k++,O=S[k]}}else for(;O&&O===v[k]&&O.ownParams.$$equals(e,f);)T=q[k]=O.locals,k++,O=S[k];if(C(n,e,l,f,T,i))return $&&(e["#"]=$),D.params=e,U(D.params,h),i.location&&n.navigable&&n.navigable.url&&(m.push(n.navigable.url,e,{$$avoidResync:!0,replace:"replace"===i.location}),m.update(!0)),D.transition=null,a.when(D.current);if(e=c(n.params.$$keys(),e||{}),i.notify&&t.$broadcast("$stateChangeStart",n.self,e,l.self,f).defaultPrevented)return t.$broadcast("$stateChangeCancel",n.self,e,l.self,f),m.update(),P;for(var N=a.when(T),_=k;_<S.length;_++,O=S[_])T=q[_]=r(T),N=b(O,e,O===n,N,T,i);var L=D.transition=N.then(function(){var r,a,o;if(D.transition!==L)return x;for(r=v.length-1;r>=k;r--)o=v[r],o.self.onExit&&u.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=k;r<S.length;r++)a=S[r],a.locals=q[r],a.self.onEnter&&u.invoke(a.self.onEnter,a.self,a.locals.globals);return $&&(e["#"]=$),D.transition!==L?x:(D.$current=n,D.current=n.self,D.params=e,U(D.params,h),D.transition=null,i.location&&n.navigable&&m.push(n.navigable.url,n.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&t.$broadcast("$stateChangeSuccess",n.self,e,l.self,f),m.update(!0),D.current)},function(r){return D.transition!==L?x:(D.transition=null,o=t.$broadcast("$stateChangeError",n.self,e,l.self,f,r),o.defaultPrevented||m.update(),a.reject(r))});return L},D.is=function(t,n,r){r=V({relative:D.$current},r||{});var a=p(t,r.relative);return I(a)?D.$current!==a?!1:n?l(a.params.$$values(n),h):!0:e},D.includes=function(t,n,r){if(r=V({relative:D.$current},r||{}),M(t)&&$(t)){if(!g(t))return!1;t=D.$current.name}var a=p(t,r.relative);return I(a)?I(D.$current.includes[a.name])?n?l(a.params.$$values(n),h,o(n)):!0:!1:e},D.href=function(t,n,r){r=V({lossy:!0,inherit:!0,absolute:!1,relative:D.$current},r||{});var a=p(t,r.relative);if(!I(a))return null;r.inherit&&(n=s(h,n||{},D.$current,a));var i=a&&r.lossy?a.navigable:a;return i&&i.url!==e&&null!==i.url?m.href(i.url,c(a.params.$$keys().concat("#"),n||{}),{absolute:r.absolute}):null},D.get=function(t,n){if(0===arguments.length)return v(o(S),function(t){return S[t].self});var e=p(t,n||D.$current);return e&&e.self?e.self:null},D}function C(t,n,e,r,a,i){function o(t,n,e){function r(n){return"search"!=t.params[n].location}var a=t.params.$$keys().filter(r),i=f.apply({},[t.params].concat(a)),o=new _.ParamSet(i);return o.$$equals(n,e)}return!i.reload&&t===e&&(a===e.locals||t.self.reloadOnSearch===!1&&o(e,r,n))?!0:void 0}var A,D,S={},x={},E="abstract",P={parent:function(t){if(I(t.parent)&&t.parent)return p(t.parent);var n=/^(.+)\.[^.]+$/.exec(t.name);return n?p(n[1]):A},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=V({},t.parent.data,t.data)),t.data},url:function(t){var n=t.url,e={params:t.params||{}};if(M(n))return"^"==n.charAt(0)?a.compile(n.substring(1),e):(t.parent.navigable||A).url.concat(n,e);if(!n||a.isMatcher(n))return n;throw new Error("Invalid url '"+n+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var n=t.url&&t.url.params||new _.ParamSet;return N(t.params||{},function(t,e){n[e]||(n[e]=new _.Param(e,null,t,"config"))}),n},params:function(t){return t.parent&&t.parent.params?V(t.parent.params.$$new(),t.ownParams):new _.ParamSet},views:function(t){var n={};return N(I(t.views)?t.views:{"":t},function(e,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),n[r]=e}),n},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var n=t.parent?V({},t.parent.includes):{};return n[t.name]=!0,n},$delegates:{}};A=d({name:"",url:"^",views:null,"abstract":!0}),A.navigable=null,this.decorator=y,this.state=w,this.$get=b,b.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function C(){function t(t,n){return{load:function(e,r){var a,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=V(i,r),r.view&&(a=n.fromConfig(r.view,r.params,r.locals)),a&&r.notify&&t.$broadcast("$viewContentLoading",r),a}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function A(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(n,e){return t?n:function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]}function D(t,e,r,a){function i(){return e.has?function(t){return e.has(t)?e.get(t):null}:function(t){try{return e.get(t)}catch(n){return null}}}function o(t,n){var e=function(){return{enter:function(t,n,e){n.after(t),e()},leave:function(t,n){t.remove(),n()}}};if(l)return{enter:function(t,n,e){var r=l.enter(t,null,n,e);r&&r.then&&r.then(e)},leave:function(t,n){var e=l.leave(t,n);e&&e.then&&e.then(n)}};if(s){var r=s&&s(n,t);return{enter:function(t,n,e){r.enter(t,null,n),e()},leave:function(t,n){r.leave(t),n()}}}return e()}var u=i(),s=u("$animator"),l=u("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,i,u){return function(e,i,s){function l(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),p&&($.leave(p,function(){f=null}),f=p,p=null)}function c(o){var c,f=x(e,s,i,a),g=f&&t.$current&&t.$current.locals[f];if(o||g!==v){c=e.$new(),v=t.$current.locals[f];var y=u(c,function(t){$.enter(t,i,function(){h&&h.$emit("$viewContentAnimationEnded"),(n.isDefined(d)&&!d||e.$eval(d))&&r(t)}),l()});p=y,h=c,h.$emit("$viewContentLoaded"),h.$eval(m)}}var f,p,h,v,m=s.onload||"",d=s.autoscroll,$=o(s,e);e.$on("$stateChangeSuccess",function(){c(!1)}),e.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function S(t,n,e,r){return{restrict:"ECA",priority:-400,compile:function(a){var i=a.html();return function(a,o,u){var s=e.$current,l=x(a,u,o,r),c=s&&s.locals[l];if(c){o.data("$uiView",{name:l,state:c.$$state}),o.html(c.$template?c.$template:i);var f=t(o.contents());if(c.$$controller){c.$scope=a,c.$element=o;var p=n(c.$$controller,c);c.$$controllerAs&&(a[c.$$controllerAs]=p),o.data("$ngControllerController",p),o.children().data("$ngControllerController",p)}f(a)}}}}}function x(t,n,e,r){var a=r(n.uiView||n.name||"")(t),i=e.inheritedData("$uiView");return a.indexOf("@")>=0?a:a+"@"+(i?i.state.name:"")}function E(t,n){var e,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=n+"("+r[1]+")"),e=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!e||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1],paramExpr:e[3]||null}}function P(t){var n=t.parent().inheritedData("$uiView");return n&&n.state&&n.state.name?n.state:void 0}function k(t,e){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(a,i,o,u){var s=E(o.uiSref,t.current.name),l=null,c=P(i)||t.$current,f="[object SVGAnimatedString]"===Object.prototype.toString.call(i.prop("href"))?"xlink:href":"href",p=null,h="A"===i.prop("tagName").toUpperCase(),v="FORM"===i[0].nodeName,m=v?"action":f,d=!0,$={relative:c,inherit:!0},g=a.$eval(o.uiSrefOpts)||{};n.forEach(r,function(t){t in g&&($[t]=g[t])});var y=function(e){if(e&&(l=n.copy(e)),d){p=t.href(s.state,l,$);var r=u[1]||u[0];return r&&r.$$addStateInfo(s.state,l),null===p?(d=!1,!1):void o.$set(m,p)}};s.paramExpr&&(a.$watch(s.paramExpr,function(t,n){t!==l&&y(t)},!0),l=n.copy(a.$eval(s.paramExpr))),y(),v||i.bind("click",function(n){var r=n.which||n.button;if(!(r>1||n.ctrlKey||n.metaKey||n.shiftKey||i.attr("target"))){var a=e(function(){t.go(s.state,l,$)});n.preventDefault();var o=h&&!p?1:0;n.preventDefault=function(){o--<=0&&e.cancel(a)}}})}}}function j(t,n,e){return{restrict:"A",controller:["$scope","$element","$attrs",function(n,r,a){function i(){o()?r.addClass(s):r.removeClass(s)}function o(){for(var t=0;t<l.length;t++)if(u(l[t].state,l[t].params))return!0;return!1}function u(n,e){return"undefined"!=typeof a.uiSrefActiveEq?t.is(n.name,e):t.includes(n.name,e)}var s,l=[];s=e(a.uiSrefActiveEq||a.uiSrefActive||"",!1)(n),this.$$addStateInfo=function(n,e){var a=t.get(n,P(r));l.push({state:a||{name:n},params:e}),i()},n.$on("$stateChangeSuccess",i)}]}}function O(t){var n=function(n){return t.is(n)};return n.$stateful=!0,n}function T(t){var n=function(n){return t.includes(n)};return n.$stateful=!0,n}var I=n.isDefined,q=n.isFunction,M=n.isString,F=n.isObject,R=n.isArray,N=n.forEach,V=n.extend,U=n.copy;n.module("ui.router.util",["ng"]),n.module("ui.router.router",["ui.router.util"]),n.module("ui.router.state",["ui.router.router","ui.router.util"]),n.module("ui.router",["ui.router.state"]),n.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],n.module("ui.router.util").service("$resolve",m),d.$inject=["$http","$templateCache","$injector"],n.module("ui.router.util").service("$templateFactory",d);var _;$.prototype.concat=function(t,n){var e={caseInsensitive:_.caseInsensitive(),strict:_.strictMode(),squash:_.defaultSquashPolicy()};return new $(this.sourcePath+t+this.sourceSearch,V(e,n),this)},$.prototype.toString=function(){return this.source},$.prototype.exec=function(t,n){function e(t){function n(t){return t.split("").reverse().join("")}function e(t){return t.replace(/\\-/g,"-")}var r=n(t).split(/-(?!\\)/),a=v(r,n);return v(a,e).reverse()}var r=this.regexp.exec(t);if(!r)return null;n=n||{};var a,i,o,u=this.parameters(),s=u.length,l=this.segments.length-1,c={};if(l!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(a=0;l>a;a++){o=u[a];var f=this.params[o],p=r[a+1];for(i=0;i<f.replace;i++)f.replace[i].from===p&&(p=f.replace[i].to);p&&f.array===!0&&(p=e(p)),c[o]=f.value(p)}for(;s>a;a++)o=u[a],c[o]=this.params[o].value(n[o]);return c},$.prototype.parameters=function(t){return I(t)?this.params[t]||null:this.$$paramNames},$.prototype.validates=function(t){return this.params.$$validates(t)},$.prototype.format=function(t){function n(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var e=this.segments,r=this.parameters(),a=this.params;if(!this.validates(t))return null;var i,o=!1,u=e.length-1,s=r.length,l=e[0];for(i=0;s>i;i++){var c=u>i,f=r[i],p=a[f],h=p.value(t[f]),m=p.isOptional&&p.type.equals(p.value(),h),d=m?p.squash:!1,$=p.type.encode(h);if(c){var g=e[i+1];if(d===!1)null!=$&&(l+=R($)?v($,n).join("-"):encodeURIComponent($)),l+=g;else if(d===!0){var y=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=g.match(y)[1]}else M(d)&&(l+=d+g)}else{if(null==$||m&&d!==!1)continue;R($)||($=[$]),$=v($,encodeURIComponent).join("&"+f+"="),l+=(o?"&":"?")+(f+"="+$),o=!0}}return l},g.prototype.is=function(t,n){return!0},g.prototype.encode=function(t,n){return t},g.prototype.decode=function(t,n){return t},g.prototype.equals=function(t,n){return t==n},g.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},g.prototype.pattern=/.*/,g.prototype.toString=function(){return"{Type:"+this.name+"}"},g.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},g.prototype.$asArray=function(t,n){function r(t,n){function r(t,n){return function(){return t[n].apply(t,arguments)}}function a(t){return R(t)?t:I(t)?[t]:[]}function i(t){switch(t.length){case 0:return e;case 1:return"auto"===n?t[0]:t;default:return t}}function o(t){return!t}function u(t,n){return function(e){e=a(e);var r=v(e,t);return n===!0?0===h(r,o).length:i(r)}}function s(t){return function(n,e){var r=a(n),i=a(e);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!t(r[o],i[o]))return!1;return!0}}this.encode=u(r(t,"encode")),this.decode=u(r(t,"decode")),this.is=u(r(t,"is"),!0),this.equals=s(r(t,"equals")),this.pattern=t.pattern,this.$normalize=u(r(t,"$normalize")),this.name=t.name,this.$arrayMode=n}if(!t)return this;if("auto"===t&&!n)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},n.module("ui.router.util").provider("$urlMatcherFactory",y),n.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],n.module("ui.router.router").provider("$urlRouter",w),b.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],n.module("ui.router.state").value("$stateParams",{}).provider("$state",b),C.$inject=[],n.module("ui.router.state").provider("$view",C),n.module("ui.router.state").provider("$uiViewScroll",A),D.$inject=["$state","$injector","$uiViewScroll","$interpolate"],S.$inject=["$compile","$controller","$state","$interpolate"],n.module("ui.router.state").directive("uiView",D),n.module("ui.router.state").directive("uiView",S),k.$inject=["$state","$timeout"],j.$inject=["$state","$stateParams","$interpolate"],n.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",j).directive("uiSrefActiveEq",j),O.$inject=["$state"],T.$inject=["$state"],n.module("ui.router.state").filter("isState",O).filter("includedByState",T)}(window,window.angular),function(t,n,e){"use strict";function r(t,e){e=e||{},n.forEach(e,function(t,n){delete e[n]});for(var r in t)!t.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r]);return e}var a=n.$$minErr("$resource"),i=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;n.module("ngResource",["ng"]).provider("$resource",function(){var t=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(o,u){function s(n,e){this.template=n,this.defaults=p({},t.defaults,e),this.urlParams={}}function l(m,d,$,g){function y(t,n){var r={};return n=p({},d,n),f(n,function(n,o){v(n)&&(n=n());var u;if(n&&n.charAt&&"@"==n.charAt(0)){u=t;var s=n.substr(1);if(null==s||""===s||"hasOwnProperty"===s||!i.test("."+s))throw a("badmember",s);for(var s=s.split("."),l=0,c=s.length;c>l&&u!==e;l++){var f=s[l];u=null!==u?u[f]:e}}else u=n;r[o]=u}),r}function w(t){return t.resource}function b(t){r(t||{},this)}var C=new s(m,g);return $=p({},t.defaults.actions,$),b.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,t},f($,function(t,i){var s=/^(POST|PUT|PATCH)$/i.test(t.method);b[i]=function(l,m,d,$){var g,A,D,S={};switch(arguments.length){case 4:D=$,A=d;case 3:case 2:if(!v(m)){S=l,g=m,A=d;break}if(v(l)){A=l,D=m;break}A=m,D=d;case 1:v(l)?A=l:s?g=l:S=l;break;case 0:break;default:throw a("badargs",arguments.length)}var x=this instanceof b,E=x?g:t.isArray?[]:new b(g),P={},k=t.interceptor&&t.interceptor.response||w,j=t.interceptor&&t.interceptor.responseError||e;return f(t,function(t,n){"params"!=n&&"isArray"!=n&&"interceptor"!=n&&(P[n]=h(t))}),s&&(P.data=g),C.setUrlParams(P,p({},y(g,t.params||{}),S),t.url),
S=o(P).then(function(e){var o=e.data,u=E.$promise;if(o){if(n.isArray(o)!==!!t.isArray)throw a("badcfg",i,t.isArray?"array":"object",n.isArray(o)?"array":"object",P.method,P.url);t.isArray?(E.length=0,f(o,function(t){E.push("object"==typeof t?new b(t):t)})):(r(o,E),E.$promise=u)}return E.$resolved=!0,e.resource=E,e},function(t){return E.$resolved=!0,(D||c)(t),u.reject(t)}),S=S.then(function(t){var n=k(t);return(A||c)(n,t.headers),n},j),x?S:(E.$promise=S,E.$resolved=!1,E)},b.prototype["$"+i]=function(t,n,e){return v(t)&&(e=n,n=t,t={}),t=b[i].call(this,t,this,n,e),t.$promise||t}}),b.bind=function(t){return l(m,p({},d,t),$)},b}var c=n.noop,f=n.forEach,p=n.extend,h=n.copy,v=n.isFunction;return s.prototype={setUrlParams:function(t,e,r){var i,o,u=this,s=r||u.template,l=u.urlParams={};f(s.split(/\W/),function(t){if("hasOwnProperty"===t)throw a("badname");!/^\d+$/.test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(s)&&(l[t]=!0)}),s=s.replace(/\\:/g,":"),e=e||{},f(u.urlParams,function(t,r){i=e.hasOwnProperty(r)?e[r]:u.defaults[r],n.isDefined(i)&&null!==i?(o=encodeURIComponent(i).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),s=s.replace(new RegExp(":"+r+"(\\W|$)","g"),function(t,n){return o+n})):s=s.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(t,n,e){return"/"==e.charAt(0)?e:n+e})}),u.defaults.stripTrailingSlashes&&(s=s.replace(/\/+$/,"")||"/"),s=s.replace(/\/\.(?=\w+($|\?))/,"."),t.url=s.replace(/\/\\\./,"/."),f(e,function(n,e){u.urlParams[e]||(t.params=t.params||{},t.params[e]=n)})}},l}]})}(window,window.angular),function(t,n,e){"use strict";function r(t,e,r){a.directive(t,["$parse","$swipe",function(a,i){return function(o,u,s){function l(t){if(!c)return!1;var n=Math.abs(t.y-c.y);return t=(t.x-c.x)*e,f&&75>n&&t>0&&t>30&&.3>n/t}var c,f,p=a(s[t]),h=["touch"];n.isDefined(s.ngSwipeDisableMouse)||h.push("mouse"),i.bind(u,{start:function(t,n){c=t,f=!0},cancel:function(t){f=!1},end:function(t,n){l(t)&&o.$apply(function(){u.triggerHandler(r),p(o,{$event:n})})}},h)}}])}var a=n.module("ngTouch",[]);a.factory("$swipe",[function(){function t(t){t=t.originalEvent||t;var n=t.touches&&t.touches.length?t.touches:[t];return t=t.changedTouches&&t.changedTouches[0]||n[0],{x:t.clientX,y:t.clientY}}function e(t,e){var a=[];return n.forEach(t,function(t){(t=r[t][e])&&a.push(t)}),a.join(" ")}var r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(n,r,a){var i,o,u,s,l=!1;a=a||["mouse","touch"],n.on(e(a,"start"),function(n){u=t(n),l=!0,o=i=0,s=u,r.start&&r.start(u,n)});var c=e(a,"cancel");c&&n.on(c,function(t){l=!1,r.cancel&&r.cancel(t)}),n.on(e(a,"move"),function(n){if(l&&u){var e=t(n);i+=Math.abs(e.x-s.x),o+=Math.abs(e.y-s.y),s=e,10>i&&10>o||(o>i?(l=!1,r.cancel&&r.cancel(n)):(n.preventDefault(),r.move&&r.move(e,n)))}}),n.on(e(a,"end"),function(n){l&&(l=!1,r.end&&r.end(t(n),n))})}}}]),a.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),a.directive("ngClick",["$parse","$timeout","$rootElement",function(t,e,r){function a(t,n,e){for(var r=0;r<t.length;r+=2){var a=t[r+1],i=e;if(25>Math.abs(t[r]-n)&&25>Math.abs(a-i))return t.splice(r,r+2),!0}return!1}function i(t){if(!(2500<Date.now()-u)){var e=t.touches&&t.touches.length?t.touches:[t],r=e[0].clientX,e=e[0].clientY;if(!(1>r&&1>e||l&&l[0]===r&&l[1]===e)){l&&(l=null);var i=t.target;"label"===n.lowercase(i.nodeName||i[0]&&i[0].nodeName)&&(l=[r,e]),a(s,r,e)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur())}}}function o(t){t=t.touches&&t.touches.length?t.touches:[t];var n=t[0].clientX,r=t[0].clientY;s.push(n,r),e(function(){for(var t=0;t<s.length;t+=2)if(s[t]==n&&s[t+1]==r){s.splice(t,t+2);break}},2500,!1)}var u,s,l;return function(e,l,c){var f,p,h,v,m=t(c.ngClick),d=!1;l.on("touchstart",function(t){d=!0,f=t.target?t.target:t.srcElement,3==f.nodeType&&(f=f.parentNode),l.addClass("ng-click-active"),p=Date.now(),t=t.originalEvent||t,t=(t.touches&&t.touches.length?t.touches:[t])[0],h=t.clientX,v=t.clientY}),l.on("touchcancel",function(t){d=!1,l.removeClass("ng-click-active")}),l.on("touchend",function(t){var e=Date.now()-p,m=t.originalEvent||t,$=(m.changedTouches&&m.changedTouches.length?m.changedTouches:m.touches&&m.touches.length?m.touches:[m])[0],m=$.clientX,$=$.clientY,g=Math.sqrt(Math.pow(m-h,2)+Math.pow($-v,2));d&&750>e&&12>g&&(s||(r[0].addEventListener("click",i,!0),r[0].addEventListener("touchstart",o,!0),s=[]),u=Date.now(),a(s,m,$),f&&f.blur(),n.isDefined(c.disabled)&&!1!==c.disabled||l.triggerHandler("click",[t])),d=!1,l.removeClass("ng-click-active")}),l.onclick=function(t){},l.on("click",function(t,n){e.$apply(function(){m(e,{$event:n||t})})}),l.on("mousedown",function(t){l.addClass("ng-click-active")}),l.on("mousemove mouseup",function(t){l.removeClass("ng-click-active")})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),function(t,n,e){"use strict";function r(t,n,e){if(!t)throw ngMinErr("areq",n||"?",e||"required");return t}function a(t,n){return t||n?t?n?(M(t)&&(t=t.join(" ")),M(n)&&(n=n.join(" ")),t+" "+n):t:n:""}function i(t){var n={};return t&&(t.to||t.from)&&(n.to=t.to,n.from=t.from),n}function o(t,n,e){var r="";return t=M(t)?t:t&&F(t)&&t.length?t.split(/\s+/):[],q(t,function(t,a){t&&0<t.length&&(r+=a>0?" ":"",r+=e?n+t:t+n)}),r}function u(t){if(t instanceof I)switch(t.length){case 0:return[];case 1:if(1===t[0].nodeType)return t;break;default:return I(s(t))}return 1===t.nodeType?I(t):void 0}function s(t){if(!t[0])return t;for(var n=0;n<t.length;n++){var e=t[n];if(1==e.nodeType)return e}}function l(t,n,e){q(n,function(n){t.addClass(n,e)})}function c(t,n,e){q(n,function(n){t.removeClass(n,e)})}function f(t){return function(n,e){e.addClass&&(l(t,n,e.addClass),e.addClass=null),e.removeClass&&(c(t,n,e.removeClass),e.removeClass=null)}}function p(t){if(t=t||{},!t.$$prepared){var n=t.domOperation||O;t.domOperation=function(){t.$$domOperationFired=!0,n(),n=O},t.$$prepared=!0}return t}function h(t,n){v(t,n),m(t,n)}function v(t,n){n.from&&(t.css(n.from),n.from=null)}function m(t,n){n.to&&(t.css(n.to),n.to=null)}function d(t,n,e){var r=(n.addClass||"")+" "+(e.addClass||""),a=(n.removeClass||"")+" "+(e.removeClass||"");return t=$(t.attr("class"),r,a),T(n,e),n.addClass=t.addClass?t.addClass:null,n.removeClass=t.removeClass?t.removeClass:null,n}function $(t,n,e){function r(t){F(t)&&(t=t.split(" "));var n={};return q(t,function(t){t.length&&(n[t]=!0)}),n}var a={};t=r(t),n=r(n),q(n,function(t,n){a[n]=1}),e=r(e),q(e,function(t,n){a[n]=1===a[n]?null:-1});var i={addClass:"",removeClass:""};return q(a,function(n,e){var r,a;1===n?(r="addClass",a=!t[e]):-1===n&&(r="removeClass",a=t[e]),a&&(i[r].length&&(i[r]+=" "),i[r]+=e)}),i}function g(t){return t instanceof n.element?t[0]:t}function y(t,n,e){var r=Object.create(null),a=t.getComputedStyle(n)||{};return q(e,function(t,n){var e=a[t];if(e){var i=e.charAt(0);("-"===i||"+"===i||i>=0)&&(e=w(e)),0===e&&(e=null),r[n]=e}}),r}function w(t){var n=0;return t=t.split(/\s*,\s*/),q(t,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t}),n}function b(t){return 0===t||null!=t}function C(t,n){var e=E,r=t+"s";return n?e+="Duration":r+=" linear all",[e,r]}function A(t,n){var e=n?"-"+n+"s":"";return S(t,[z,e]),[z,e]}function D(t,n){var e=n?"paused":"",r=k+"PlayState";return S(t,[r,e]),[r,e]}function S(t,n){t.style[n[0]]=n[1]}function x(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(n){return(n=t[n])?n.total:0},get:function(n){return(n=t[n])&&n.value},put:function(n,e){t[n]?t[n].total++:t[n]={total:1,value:e}}}}var E,P,k,j,O=n.noop,T=n.extend,I=n.element,q=n.forEach,M=n.isArray,F=n.isString,R=n.isObject,N=n.isUndefined,V=n.isDefined,U=n.isFunction,_=n.isElement;t.ontransitionend===e&&t.onwebkittransitionend!==e?(E="WebkitTransition",P="webkitTransitionEnd transitionend"):(E="transition",P="transitionend"),t.onanimationend===e&&t.onwebkitanimationend!==e?(k="WebkitAnimation",j="webkitAnimationEnd animationend"):(k="animation",j="animationend");var L=k+"Delay",H=k+"Duration",z=E+"Delay";t=E+"Duration";var J={transitionDuration:t,transitionDelay:z,transitionProperty:E+"Property",animationDuration:H,animationDelay:L,animationIterationCount:k+"IterationCount"},K={transitionDuration:t,transitionDelay:z,animationDuration:H,animationDelay:L};n.module("ngAnimate",[]).directive("ngAnimateChildren",[function(){return function(t,e,r){t=r.ngAnimateChildren,n.isString(t)&&0===t.length?e.data("$$ngAnimateChildren",!0):r.$observe("ngAnimateChildren",function(t){e.data("$$ngAnimateChildren","on"===t||"true"===t)})}}]).factory("$$rAFMutex",["$$rAF",function(t){return function(){var n=!1;return t(function(){n=!0}),function(e){n?e():t(e)}}}]).factory("$$rAFScheduler",["$$rAF",function(t){function n(t){a.push([].concat(t)),e()}function e(){if(a.length){for(var n=[],i=0;i<a.length;i++){var o=a[i];o.shift()(),o.length&&n.push(o)}a=n,r||t(function(){r||e()})}}var r,a=[];return n.waitUntilQuiet=function(n){r&&r(),r=t(function(){r=null,n(),e()})},n}]).factory("$$AnimateRunner",["$q","$$rAFMutex",function(t,n){function e(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}return e.chain=function(t,n){function e(){r===t.length?n(!0):t[r](function(t){!1===t?n(!1):(r++,e())})}var r=0;e()},e.all=function(t,n){function e(e){a=a&&e,++r===t.length&&n(a)}var r=0,a=!0;q(t,function(t){t.done(e)})},e.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:O,getPromise:function(){if(!this.promise){var n=this;this.promise=t(function(t,e){n.done(function(n){!1===n?e():t()})})}return this.promise},then:function(t,n){return this.getPromise().then(t,n)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var n=this;0===n._state&&(n._state=1,n._runInAnimationFrame(function(){n._resolve(t)}))},_resolve:function(t){2!==this._state&&(q(this._doneCallbacks,function(n){n(t)}),this._doneCallbacks.length=0,this._state=2)}},e}]).provider("$$animateQueue",["$animateProvider",function(t){function n(t,n,e,r){return a[t].some(function(t){return t(n,e,r)})}function e(t,n){t=t||{};var e=0<(t.addClass||"").length,r=0<(t.removeClass||"").length;return n?e&&r:e||r}var a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(t,n,r){return!n.structural&&e(n.options)}),a.skip.push(function(t,n,r){return!n.structural&&!e(n.options)}),a.skip.push(function(t,n,e){return"leave"==e.event&&n.structural}),a.skip.push(function(t,n,e){return e.structural&&!n.structural}),a.cancel.push(function(t,n,e){return e.structural&&n.structural}),a.cancel.push(function(t,n,e){return 2===e.state&&n.structural}),a.cancel.push(function(t,n,e){return t=n.options,e=e.options,t.addClass&&t.addClass===e.removeClass||t.removeClass&&t.removeClass===e.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(a,i,o,l,c,v,m,$,y){function w(t,n){var e=g(t),r=[],a=L[n];return a&&q(a,function(t){t.node.contains(e)&&r.push(t.callback)}),r}function b(t,n,e,r){a(function(){q(w(n,t),function(t){t(n,e,r)})})}function C(t,r,a){function o(n,e,r,a){b(e,t,r,a),n.progress(e,r,a)}function s(n){J(t,a),h(t,a),a.domOperation(),f.complete(!n)}var l,c;(t=u(t))&&(l=g(t),c=t.parent()),a=p(a);var f=new m;if(!l)return s(),f;M(a.addClass)&&(a.addClass=a.addClass.join(" ")),M(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.from&&!R(a.from)&&(a.from=null),a.to&&!R(a.to)&&(a.to=null);var $=[l.className,a.addClass,a.removeClass].join(" ");if(!z($))return s(),f;var y=0<=["enter","move","leave"].indexOf(r),w=!O||j.get(l),$=!w&&k.get(l)||{},C=!!$.state;if(w||C&&1==$.state||(w=!E(t,c,r)),w)return s(),f;if(y&&A(t),w={structural:y,element:t,event:r,close:s,options:a,runner:f},C){if(n("skip",t,w,$))return 2===$.state?(s(),f):(d(t,$.options,a),$.runner);if(n("cancel",t,w,$))2===$.state?$.runner.end():$.structural?$.close():d(t,w.options,$.options);else if(n("join",t,w,$)){if(2!==$.state)return r=w.event=$.event,a=d(t,$.options,w.options),f;d(t,a,{})}}else d(t,a,{});if((C=w.structural)||(C="animate"===w.event&&0<Object.keys(w.options.to||{}).length||e(w.options)),!C)return s(),D(t),f;y&&x(c);var S=($.counter||0)+1;return w.counter=S,P(t,1,w),i.$$postDigest(function(){var n=k.get(l),i=!n,n=n||{},u=t.parent()||[],c=0<u.length&&("animate"===n.event||n.structural||e(n.options));i||n.counter!==S||!c?(i&&(J(t,a),h(t,a)),(i||y&&n.event!==r)&&(a.domOperation(),f.end()),c||D(t)):(r=!n.structural&&e(n.options,!0)?"setClass":n.event,n.structural&&x(u),P(t,2),n=v(t,r,n.options),n.done(function(n){s(!n),(n=k.get(l))&&n.counter===S&&D(g(t)),o(f,r,"close",{})}),f.setHost(n),o(f,r,"start",{}))}),f}function A(t){t=g(t).querySelectorAll("[data-ng-animate]"),q(t,function(t){var n=parseInt(t.getAttribute("data-ng-animate")),e=k.get(t);switch(n){case 2:e.runner.end();case 1:e&&k.remove(t)}})}function D(t){t=g(t),t.removeAttribute("data-ng-animate"),k.remove(t)}function S(t,n){return g(t)===g(n)}function x(t){for(t=g(t);;){if(!t||1!==t.nodeType)break;var n=k.get(t);if(n){var r=t;!n.structural&&e(n.options)&&(2===n.state&&n.runner.end(),D(r))}t=t.parentNode}}function E(t,n,e){var r,a=e=!1,i=!1;for((t=t.data("$ngAnimatePin"))&&(n=t);n&&n.length&&(a||(a=S(n,o)),t=n[0],1===t.nodeType);){var u=k.get(t)||{};if(i||(i=u.structural||j.get(t)),(N(r)||!0===r)&&(t=n.data("$$ngAnimateChildren"),V(t)&&(r=t)),i&&!1===r)break;a||(a=S(n,o),a||(t=n.data("$ngAnimatePin"))&&(n=t)),e||(e=S(n,U)),n=n.parent()}return(!i||r)&&a&&e}function P(t,n,e){e=e||{},e.state=n,t=g(t),t.setAttribute("data-ng-animate",n),e=(n=k.get(t))?T(n,e):e,k.put(t,e)}var k=new c,j=new c,O=null,F=i.$watch(function(){return 0===$.totalPendingRequests},function(t){t&&(F(),i.$$postDigest(function(){i.$$postDigest(function(){null===O&&(O=!0)})}))}),U=I(l[0].body),L={},H=t.classNameFilter(),z=H?function(t){return H.test(t)}:function(){return!0},J=f(y);return{on:function(t,n,e){n=s(n),L[t]=L[t]||[],L[t].push({node:n,callback:e})},off:function(t,n,e){function r(t,n,e){var r=s(n);return t.filter(function(t){return!(t.node===r&&(!e||t.callback===e))})}var a=L[t];a&&(L[t]=1===arguments.length?null:r(a,n,e))},pin:function(t,n){r(_(t),"element","not an element"),r(_(n),"parentElement","not an element"),t.data("$ngAnimatePin",n)},push:function(t,n,e,r){return e=e||{},e.domOperation=r,C(t,n,e)},enabled:function(t,n){var e=arguments.length;if(0===e)n=!!O;else if(_(t)){var r=g(t),a=j.get(r);1===e?n=!a:(n=!!n)?a&&j.remove(r):j.put(r,!0)}else n=O=!!t;return n}}}]}]).provider("$$animation",["$animateProvider",function(t){function n(t){return t.data("$$animationRunner")}var e=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(t,r,i,o,u){var s=[],l=f(t),c=0,v=0,m=[];return function(f,d,$){function y(t){t=t.hasAttribute("ng-animate-ref")?[t]:t.querySelectorAll("[ng-animate-ref]");var n=[];return q(t,function(t){var e=t.getAttribute("ng-animate-ref");e&&e.length&&n.push(t)}),n}function w(t){var n=[],e={};q(t,function(t,r){var a=g(t.element),i=0<=["enter","move"].indexOf(t.event),a=t.structural?y(a):[];if(a.length){var o=i?"to":"from";q(a,function(t){var n=t.getAttribute("ng-animate-ref");e[n]=e[n]||{},e[n][o]={animationID:r,element:I(t)}})}else n.push(t)});var r={},a={};return q(e,function(e,i){var o=e.from,u=e.to;if(o&&u){var s=t[o.animationID],l=t[u.animationID],c=o.animationID.toString();if(!a[c]){var f=a[c]={structural:!0,beforeStart:function(){s.beforeStart(),l.beforeStart()},close:function(){s.close(),l.close()},classes:b(s.classes,l.classes),from:s,to:l,anchors:[]};f.classes.length?n.push(f):(n.push(s),n.push(l))}a[c].anchors.push({out:o.element,"in":u.element})}else o=o?o.animationID:u.animationID,u=o.toString(),r[u]||(r[u]=!0,n.push(t[o]))}),n}function b(t,n){t=t.split(" "),n=n.split(" ");for(var e=[],r=0;r<t.length;r++){var a=t[r];if("ng-"!==a.substring(0,3))for(var i=0;i<n.length;i++)if(a===n[i]){e.push(a);break}}return e.join(" ")}function C(t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(i.has(r)&&(r=i.get(r)(t)))return r}}function A(t,e){t.from&&t.to?(n(t.from.element).setHost(e),n(t.to.element).setHost(e)):n(t.element).setHost(e)}function D(){var t=n(f);!t||"leave"===d&&$.$$domOperationFired||t.end()}function S(n){f.off("$destroy",D),f.removeData("$$animationRunner"),l(f,$),h(f,$),$.domOperation(),k&&t.removeClass(f,k),f.removeClass("ng-animate"),E.complete(!n)}$=p($);var x=0<=["enter","move","leave"].indexOf(d),E=new o({end:function(){S()},cancel:function(){S(!0)}});if(!e.length)return S(),E;f.data("$$animationRunner",E);var P=a(f.attr("class"),a($.addClass,$.removeClass)),k=$.tempClasses;k&&(P+=" "+k,$.tempClasses=null);var j;return x||(j=c,c+=1),s.push({element:f,classes:P,event:d,classBasedIndex:j,structural:x,options:$,beforeStart:function(){f.addClass("ng-animate"),k&&t.addClass(f,k)},close:S}),f.on("$destroy",D),1<s.length?E:(r.$$postDigest(function(){v=c,c=0,m.length=0;var t=[];q(s,function(e){n(e.element)&&t.push(e)}),s.length=0,q(w(t),function(t){function e(){t.beforeStart();var e,r=t.close,a=t.anchors?t.from.element||t.to.element:t.element;n(a)&&g(a).parentNode&&(a=C(t))&&(e=a.start),e?(e=e(),e.done(function(t){r(!t)}),A(t,e)):r()}t.structural?e():(m.push({node:g(t.element),fn:e}),t.classBasedIndex===v-1&&(m=m.sort(function(t,n){return n.node.contains(t.node)}).map(function(t){return t.fn}),u(m)))})}),E)}}]}]).provider("$animateCss",["$animateProvider",function(t){var n=x(),e=x();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(t,r,a,u,s,l,c){function d(t,n){var e=t.parentNode;return(e.$$ngAnimateParentKey||(e.$$ngAnimateParentKey=++T))+"-"+t.getAttribute("class")+"-"+n}function $(a,i,u,s){var l;return 0<n.count(u)&&(l=e.get(u),l||(i=o(i,"-stagger"),r.addClass(a,i),l=y(t,a,s),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),r.removeClass(a,i),e.put(u,l))),l||{}}function w(t){F.push(t),c.waitUntilQuiet(function(){n.flush(),e.flush();for(var t=I.offsetWidth+1,r=0;r<F.length;r++)F[r](t);F.length=0})}function x(e,r,a){return r=n.get(a),r||(r=y(t,e,J),"infinite"===r.animationIterationCount&&(r.animationIterationCount=1)),n.put(a,r),e=r,a=e.animationDelay,r=e.transitionDelay,e.maxDelay=a&&r?Math.max(a,r):a||r,e.maxDuration=Math.max(e.animationDuration*e.animationIterationCount,e.transitionDuration),e}var O=f(r),T=0,I=g(s).body,F=[];return function(t,e){function s(){f()}function c(){f(!0)}function f(n){R||V&&N||(R=!0,N=!1,r.removeClass(t,et),r.removeClass(t,at),D(F,!1),A(F,!1),q(X,function(t){F.style[t[0]]=""}),O(t,e),h(t,e),e.onDone&&e.onDone(),U&&U.complete(!n))}function y(t){ct.blockTransition&&A(F,t),ct.blockKeyframeAnimation&&D(F,!!t)}function T(){return U=new a({end:s,cancel:c}),f(),{$$willAnimate:!1,start:function(){return U},end:s}}function I(){function n(){if(!R){if(y(!1),q(X,function(t){F.style[t[0]]=t[1]}),O(t,e),r.addClass(t,at),ct.recalculateTimingStyles){if(rt=F.className+" "+et,it=d(F,rt),st=x(F,rt,it),lt=st.maxDelay,J=Math.max(lt,0),Y=st.maxDuration,0===Y)return void f();ct.hasTransitions=0<st.transitionDuration,ct.hasAnimations=0<st.animationDuration}if(ct.applyTransitionDelay||ct.applyAnimationDelay){lt="boolean"!=typeof e.delay&&b(e.delay)?parseFloat(e.delay):lt,J=Math.max(lt,0);var n;ct.applyTransitionDelay&&(st.transitionDelay=lt,n=[z,lt+"s"],X.push(n),F.style[n[0]]=n[1]),ct.applyAnimationDelay&&(st.animationDelay=lt,n=[L,lt+"s"],X.push(n),F.style[n[0]]=n[1])}if(W=1e3*J,B=1e3*Y,e.easing){var l=e.easing;ct.hasTransitions&&(n=E+"TimingFunction",X.push([n,l]),F.style[n]=l),ct.hasAnimations&&(n=k+"TimingFunction",X.push([n,l]),F.style[n]=l)}st.transitionDuration&&s.push(P),st.animationDuration&&s.push(j),o=Date.now(),t.on(s.join(" "),i),u(a,W+1.5*B),m(t,e)}}function a(){f()}function i(t){t.stopPropagation();var n=t.originalEvent||t;t=n.$manualTimeStamp||n.timeStamp||Date.now(),n=parseFloat(n.elapsedTime.toFixed(3)),Math.max(t-o,0)>=W&&n>=Y&&(V=!0,f())}if(!R)if(F.parentNode){var o,s=[],l=function(t){if(V)N&&t&&(N=!1,f());else if(N=!t,st.animationDuration)if(t=D(F,N),N)X.push(t);else{var n=X,e=n.indexOf(t);t>=0&&n.splice(e,1)}},c=ut>0&&(st.transitionDuration&&0===ot.transitionDuration||st.animationDuration&&0===ot.animationDuration)&&Math.max(ot.animationDelay,ot.transitionDelay);c?u(n,Math.floor(c*ut*1e3),!1):n(),_.resume=function(){l(!0)},_.pause=function(){l(!1)}}else f()}var F=g(t);if(!F||!F.parentNode)return T();e=p(e);var R,N,V,U,_,J,W,Y,B,X=[],G=t.attr("class"),Q=i(e);if(0===e.duration||!l.animations&&!l.transitions)return T();var Z=e.event&&M(e.event)?e.event.join(" "):e.event,tt="",nt="";Z&&e.structural?tt=o(Z,"ng-",!0):Z&&(tt=Z),e.addClass&&(nt+=o(e.addClass,"-add")),e.removeClass&&(nt.length&&(nt+=" "),nt+=o(e.removeClass,"-remove")),e.applyClassesEarly&&nt.length&&(O(t,e),nt="");var et=[tt,nt].join(" ").trim(),rt=G+" "+et,at=o(et,"-active"),G=Q.to&&0<Object.keys(Q.to).length;if(!(0<(e.keyframeStyle||"").length||G||et))return T();var it,ot;0<e.stagger?(Q=parseFloat(e.stagger),ot={transitionDelay:Q,animationDelay:Q,transitionDuration:0,animationDuration:0}):(it=d(F,rt),ot=$(F,et,it,K)),r.addClass(t,et),e.transitionStyle&&(Q=[E,e.transitionStyle],S(F,Q),X.push(Q)),0<=e.duration&&(Q=0<F.style[E].length,Q=C(e.duration,Q),S(F,Q),X.push(Q)),e.keyframeStyle&&(Q=[k,e.keyframeStyle],S(F,Q),X.push(Q));var ut=ot?0<=e.staggerIndex?e.staggerIndex:n.count(it):0;(Z=0===ut)&&A(F,9999);var st=x(F,rt,it),lt=st.maxDelay;J=Math.max(lt,0),Y=st.maxDuration;var ct={};return ct.hasTransitions=0<st.transitionDuration,ct.hasAnimations=0<st.animationDuration,ct.hasTransitionAll=ct.hasTransitions&&"all"==st.transitionProperty,ct.applyTransitionDuration=G&&(ct.hasTransitions&&!ct.hasTransitionAll||ct.hasAnimations&&!ct.hasTransitions),ct.applyAnimationDuration=e.duration&&ct.hasAnimations,ct.applyTransitionDelay=b(e.delay)&&(ct.applyTransitionDuration||ct.hasTransitions),ct.applyAnimationDelay=b(e.delay)&&ct.hasAnimations,ct.recalculateTimingStyles=0<nt.length,(ct.applyTransitionDuration||ct.applyAnimationDuration)&&(Y=e.duration?parseFloat(e.duration):Y,ct.applyTransitionDuration&&(ct.hasTransitions=!0,st.transitionDuration=Y,Q=0<F.style[E+"Property"].length,X.push(C(Y,Q))),ct.applyAnimationDuration&&(ct.hasAnimations=!0,st.animationDuration=Y,X.push([H,Y+"s"]))),0!==Y||ct.recalculateTimingStyles?(null==e.duration&&0<st.transitionDuration&&(ct.recalculateTimingStyles=ct.recalculateTimingStyles||Z),W=1e3*J,B=1e3*Y,e.skipBlocking||(ct.blockTransition=0<st.transitionDuration,ct.blockKeyframeAnimation=0<st.animationDuration&&0<ot.animationDelay&&0===ot.animationDuration),v(t,e),ct.blockTransition||A(F,!1),y(Y),{$$willAnimate:!0,end:s,start:function(){return R?void 0:(_={end:s,cancel:c,resume:null,pause:null},U=new a(_),w(I),U)}}):T()}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(t,n,e,r,a,i){function o(t){return t.replace(/\bng-\S+\b/g,"")}function u(t,n){return F(t)&&(t=t.split(" ")),F(n)&&(n=n.split(" ")),t.filter(function(t){return-1===n.indexOf(t)}).join(" ")}function s(n,r,a){function i(t){var n={},e=g(t).getBoundingClientRect();return q(["width","height","top","left"],function(t){var r=e[t];switch(t){case"top":r+=f.scrollTop;break;case"left":r+=f.scrollLeft}n[t]=Math.floor(r)+"px"}),n}function s(){var n=o(a.attr("class")||""),e=u(n,h),n=u(h,n),e=t(c,{to:i(a),addClass:"ng-anchor-in "+e,removeClass:"ng-anchor-out "+n,delay:!0});return e.$$willAnimate?e:null}function l(){c.remove(),r.removeClass("ng-animate-shim"),a.removeClass("ng-animate-shim")}var c=I(g(r).cloneNode(!0)),h=o(c.attr("class")||"");r.addClass("ng-animate-shim"),a.addClass("ng-animate-shim"),c.addClass("ng-anchor"),p.append(c);var v;if(n=function(){var n=t(c,{addClass:"ng-anchor-out",delay:!0,from:i(r)});return n.$$willAnimate?n:null}(),!n&&(v=s(),!v))return l();var m=n||v;return{start:function(){function t(){r&&r.end()}var n,r=m.start();return r.done(function(){return r=null,!v&&(v=s())?(r=v.start(),r.done(function(){r=null,l(),n.complete()}),r):(l(),void n.complete())}),n=new e({end:t,cancel:t})}}}function l(t,n,r,a){var i=c(t),o=c(n),u=[];return q(a,function(t){(t=s(r,t.out,t["in"]))&&u.push(t)}),i||o||0!==u.length?{start:function(){function t(){q(n,function(t){t.end()})}var n=[];i&&n.push(i.start()),o&&n.push(o.start()),q(u,function(t){n.push(t.start())});var r=new e({end:t,cancel:t});return e.all(n,function(t){r.complete(t)}),r}}:void 0}function c(n){var e=n.element,r=n.options||{};return n.structural?(r.structural=r.applyClassesEarly=!0,r.event=n.event,"leave"===r.event&&(r.onDone=r.domOperation)):r.event=null,n=t(e,r),n.$$willAnimate?n:null}if(!i.animations&&!i.transitions)return O;var f=g(a).body;n=g(r);var p=I(f.parentNode===n?f:n);return function(t){return t.from&&t.to?l(t.from,t.to,t.classes,t.anchors):c(t)}}]}]).provider("$$animateJs",["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(n,e,r,a){function i(e){e=M(e)?e:e.split(" ");for(var r=[],a={},i=0;i<e.length;i++){var o=e[i],u=t.$$registeredAnimations[o];u&&!a[o]&&(r.push(n.get(u)),a[o]=!0)}return r}var o=f(a);return function(t,n,r,a){function u(){a.domOperation(),o(t,a)}function s(t,n,r,a,i){switch(r){case"animate":n=[n,a.from,a.to,i];break;case"setClass":n=[n,m,d,i];break;case"addClass":n=[n,m,i];break;case"removeClass":n=[n,d,i];break;default:n=[n,i]}if(n.push(a),t=t.apply(t,n))if(U(t.start)&&(t=t.start()),t instanceof e)t.done(i);else if(U(t))return t;return O}function l(t,n,r,a,i){var o=[];return q(a,function(a){var u=a[i];u&&o.push(function(){var a,i,o=!1,l=function(t){o||(o=!0,(i||O)(t),a.complete(!t))};return a=new e({end:function(){l()},cancel:function(){l(!0)}}),i=s(u,t,n,r,function(t){l(!1===t)}),a})}),o}function c(t,n,r,a,i){var o=l(t,n,r,a,i);if(0===o.length){var u,s;"beforeSetClass"===i?(u=l(t,"removeClass",r,a,"beforeRemoveClass"),s=l(t,"addClass",r,a,"beforeAddClass")):"setClass"===i&&(u=l(t,"removeClass",r,a,"removeClass"),s=l(t,"addClass",r,a,"addClass")),u&&(o=o.concat(u)),s&&(o=o.concat(s))}return 0!==o.length?function(t){var n=[];return o.length&&q(o,function(t){n.push(t())}),n.length?e.all(n,t):t(),function(t){q(n,function(n){t?n.cancel():n.end()})}}:void 0}3===arguments.length&&R(r)&&(a=r,r=null),a=p(a),r||(r=t.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var f,v,m=a.addClass,d=a.removeClass,$=i(r);if($.length){var g,y;"leave"==n?(y="leave",g="afterLeave"):(y="before"+n.charAt(0).toUpperCase()+n.substr(1),g=n),"enter"!==n&&"move"!==n&&(f=c(t,n,a,$,y)),v=c(t,n,a,$,g)}return f||v?{start:function(){function n(n){o=!0,u(),h(t,a),s.complete(n)}var r,i=[];f&&i.push(function(t){r=f(t)}),i.length?i.push(function(t){u(),t(!0)}):u(),v&&i.push(function(t){r=v(t)});var o=!1,s=new e({end:function(){o||((r||O)(void 0),n(void 0))},cancel:function(){o||((r||O)(!0),n(!0))}});return e.chain(i,n),s}}:void 0}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,n){function e(n){return t(n.element,n.event,n.classes,n.options)}return function(t){if(!t.from||!t.to)return e(t);var r=e(t.from),a=e(t.to);return r||a?{start:function(){function t(){return function(){q(e,function(t){t.end()})}}var e=[];r&&e.push(r.start()),a&&e.push(a.start()),n.all(e,function(t){i.complete(t)});var i=new n({end:t(),cancel:t()});return i}}:void 0}}]}])}(window,window.angular);